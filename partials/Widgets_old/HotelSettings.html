
  
<div class="col-lg-6" ng-show="$parent.$parent.Widget_HotelSettings">
						
                                                        <!--widget :  Hotel settings  -->
							<div class="panel panel-primary text-left no-boder">
									<div class="panel-heading">
											<i class="fa fa-bar-chart-o fa-fw"></i>
											<a class="widgetTitle" ng-click="HotelSettingscollapsed=(HotelSettingscollapsed==null?false:!HotelSettingscollapsed);">Hotel Settings 
											for {{SelectedHotel.Name}}
											</a>
											<div class="pull-right">
												<div class="btn-group">
													
												</div>
												<a ng-click="ShowHelpPopup('HotelSettings_help.html');"><img src="images/Apps-Help-icon.png" width="20px" height="25px"></a>
											</div>
										</div>


								<div class="panel-body yellow" ng-show="(HotelSettingscollapsed==null?true:HotelSettingscollapsed)">
									<div class="row">
									
										<div class="sk-wave" ng-show="isHotelSettingsLoading && $parent.$parent.HotelSettingsErrorMessage==''">
											<div class="sk-rect sk-rect1"></div>
											<div class="sk-rect sk-rect2"></div>
											<div class="sk-rect sk-rect3"></div>
											<div class="sk-rect sk-rect4"></div>
											<div class="sk-rect sk-rect5"></div>
										  </div>
<div ng-show="$parent.$parent.HotelSettingsErrorMessage!=''">{{$parent.$parent.HotelSettingsErrorMessage}}</div>
										<div class="col-lg-12" ng-init="activeHotelTab=1" ng-show="isHotelSettingsLoading==false && $parent.$parent.HotelSettingsErrorMessage==''">
											<ul class="nav nav-tabs">
											<li ng-class="{'active' : activeHotelTab == 1}"><a href="" ng-click="activeHotelTab=1"><strong>Hotel Info</strong></a></li>
											<li ng-class="{'active' : activeHotelTab == 2}"><a href="" ng-click="activeHotelTab=2"><strong>Hotel Visit Info </strong></a></li>
											<li ng-class="{'active' : activeHotelTab == 3}"><a href="" ng-click="activeHotelTab=3"><strong>Hotel Contacts</strong></a></li>
											<li ng-show="ViewingUser" ng-class="{'active' : activeHotelTab == 4}"><a href="" ng-click="activeHotelTab=(ViewingUser?4:3)">
											<strong>{{ViewingUser.Username}} [<span ng-click="CloseViewHotelcontactMoreInfo();">X</span>]</strong></a></li>
											</ul>
								  
								  
								  
										<!-- <span><strong>
										<a ng-click="HotelSettingsInfocollapsed=(HotelSettingsInfocollapsed==null?false:!HotelSettingsInfocollapsed);">Hotel Info
										</a></strong></span> -->
										
										
										<div class="tab-content">
											<div ng-show="activeHotelTab==1">
											
															<form name="HotelSetForm" class="form-horizontal" role="form" ng-show="(HotelSettingsInfocollapsed==null?true:HotelSettingsInfocollapsed)">
																		
																		<div class="form-group">
																			<label class="col-sm-5 control-label no-padding-right" for="email">On Special Measures</label>
																			<div class="col-sm-7">
																				<span class="block input-icon input-icon-right">
																					<input type="checkbox" ng-disabled="!HotelSettings_Info_Save" name="specialMeasures" ng-model="HotelSettings.OnSpecialMeasure" />
																					
																				</span>
																			</div>
																		</div>
																	   <div class="form-group">
																			<label class="col-sm-5 control-label no-padding-right" for="password">Annual Consumption</label>
																			<div class="col-sm-7">
																				<span class="block input-icon input-icon-right">
																			<input type="text" ng-disabled="!HotelSettings_Info_Save" class="form-control" name = "annualConsumtion" placeholder="annualConsumtion" ng-model="HotelSettings.AnnualConsumption" required />
																			cost : &pound;<strong>{{(HotelSettings.AnnualConsumption * 0.08992454) | number:2 }}</strong>

																		</span>
																			</div>
																		</div>
																		
																		<div class="form-group">
																			<label class="col-sm-5 control-label no-padding-right" for="password">Day Max</label>
																			<div class="col-sm-7">
																				<span class="block input-icon input-icon-right">
																			<input type="text" ng-disabled="!HotelSettings_Info_Save" class="form-control" name = "DayMax" placeholder="DayMax" ng-model="HotelSettings.DayMax" required />

																		</span>
																			</div>
																		</div>
																		<div class="form-group">
																			<label class="col-sm-5 control-label no-padding-right" for="password">Night Low</label>
																			<div class="col-sm-7">
																				<span class="block input-icon input-icon-right">
																			<input type="text" ng-disabled="!HotelSettings_Info_Save" class="form-control" name = "NightLow" placeholder="NightLow" ng-model="HotelSettings.NightLow" required />

																		</span>
																			</div>
																		</div>
																		<div class="form-group">
																			<label class="col-sm-5 control-label no-padding-right" for="password2">SM Start Date</label>
																			<div class="col-sm-7">
																				<span class="block input-icon input-icon-right">
                                                                                
																			<input type="text" ng-disabled="!HotelSettings_Info_Save" class="form-control" id='SMStartDate' ng-click="ShowDatePicker('SMStartDate')" name="SMStartDate"  ukdate="dd-MM-yyyy" placeholder="dd-MM-yyyy"  ng-model="HotelSettings.SMStartDate"  required />
																			
<!-- <p>Date: <input type="text" id="datepicker" size="30" ng-click="fnsetMygrid('datepicker')" /></p><button ng-click="fnsetMygrid()">test</button> -->
																		</span>
																			</div>
																		</div>
																		<div class="form-group">
																			<label class="col-sm-5 control-label no-padding-right" for="password2">SM End Date</label>
																			<div class="col-sm-7">
																				<span class="block input-icon input-icon-right">
																			<input type="text" ng-disabled="!HotelSettings_Info_Save" class="form-control" ukdate="dd-MM-yyyy" placeholder="dd-MM-yyyy" id="SMEndDate" ng-click="ShowDatePicker('SMEndDate')" name="SMEndDate" ng-model="HotelSettings.SMEndDate" required />
																					

																		</span>
																			</div>
																		</div>
																		
																		<div class="form-group">
																			
																			<div class="col-sm-12">
																				<span class="block input-icon input-icon-right">
																			<!-- <input type="text" class="form-control" placeholder="Title" name="Title" ng-model="user.Notes"/> -->
																			<textarea rows="15" ng-disabled="!HotelSettings_Info_Save" cols="40" class="form-control" placeholder="Notes" name="Notes" ng-model="HotelSettings.Notes"></textarea>
																		</span>
																			</div>
																		</div>
																		<div class="form-group">
																			<span class="lbl col-sm-5"> </span>
																			
																			<span class="col-sm-7">
																			
																				<button type="submit" ng-show="HotelSettings_Info_Save" class="width-35 pull-right btn btn-sm btn-primary" ng-click="DoSaveHotelSettingsChanges(HotelSettings)" data-ng-disabled="HotelSetForm.$invalid">
																					Save Changes
																				</button>
																				
																				
																			</span>
																		</div>
																		</fieldset>
																		<span class="lbl col-sm-5"> </span>
																		<!-- <div class="col-sm-7">Already have an account? <a href="#/login">SignIn</a> -->
																		
														</form>
										</div>
											<div ng-show="activeHotelTab==2">
																<br/>
																<div class="sk-wave" ng-show="isHotelSettingsVisitInfoLoading">
																	<div class="sk-rect sk-rect1"></div>
																	<div class="sk-rect sk-rect2"></div>
																	<div class="sk-rect sk-rect3"></div>
																	<div class="sk-rect sk-rect4"></div>
																	<div class="sk-rect sk-rect5"></div>
																  </div>
										  
																<div class="table-responsive" ng-show="!isHotelSettingsVisitInfoLoading">
																<div ng-show="HotelVisitFormType=='LIST'">
																<strong>
																<!-- Hotel Visit Info  -->
																
																 <a ng-show="HotelVisitFormType=='LIST' && HotelSettings_Visit_Add" ng-click="AddNewHotelVisit()">Add</a> | 
																 <a ng-show="HotelVisitFormType=='LIST' && HotelSettings_Visit_Export" ng-click="exportDataToCsv(HotelSettings.HotelVisits,'HotelVisits',$parent.$parent.ExportColumnsHotelSettingsVisits);">Export to CSV</a> 
																</strong>
																
																</div>
																<table ng-show="HotelVisitFormType=='LIST'" id="tblHotelVisitList"" class="table table-bordered table-hover table-striped">
																	<thead>
																		<tr>
																			<!-- <th>Hotel Name</th> -->
																			<th width="10%">Type</th>
																			<th width="25%">Date</th>
																			<th>By</th>
																			<th>Remark</th>
																			<th width="1%" ng-show="HotelSettings_Visit_Edit"></th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr ng-repeat='vItem in HotelSettings.HotelVisits | orderBy:HotelVisitpredicate:HotelVisitPagingreverse | filter:HotelVisitpaginate'>
																			<!-- <td>{{weatherItem.Name}}</td> -->
																			<td>{{vItem.Name}}</td>
																			<td>{{formatDateUK(vItem.VisitDate)}}</td>
																			<td>{{vItem.VisitedUserName}}</td>
																			<td>{{vItem.Remark}}</td>
																			<td ng-show="HotelSettings_Visit_Edit"><a title='Edit'  ng-click="EditHotelVisit(vItem);"><img src="images/edit-icon.png" width="15px" height="17px" /></a> </td>
																		</tr>
																		

																	</tbody>
																</table>
																<div ng-show="HotelVisitFormType=='ADD'"><strong>Add Hotel Visit Info</strong></div>
																<div ng-show="HotelVisitFormType=='EDIT'"><strong>Edit Hotel Visit Info</strong></div>
																<form name="HotelVisitSetForm" class="form-horizontal" role="form">
																<table ng-show="HotelVisitFormType=='ADD' || HotelVisitFormType=='EDIT'" id="tblHotelVisitAdd"" class="table table-bordered table-hover table-striped">
																	<thead>
																		<tr>
																			<!-- <th>Hotel Name</th> -->
																			<th>Type</th>
																			<th>Date</th>
																			<th>By</th>
																			<th>Remark</th>
																			<th><button class="form-control" ng-click="$parent.$parent.HotelVisitFormType='LIST'">Cancel</button></th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr>
																			<td><select class="form-control" name="MM_UserIDSelect" ng-model="EditingHotelVisit.VisitTypeID"  id="MM_UserIDSelect" required>
																					  <option ng-selected="option.ID==EditingHotelVisit.VisitTypeID"  ng-repeat="option in HotelVisitTypes" value="{{option.ID}}">{{option.Name}}</option>
																					</select></td>
																			<td><input class="form-control" ng-model="EditingHotelVisit.Vdate" width="5px"  type="text" ng-click="ShowDatePicker('Vdate')" id="Vdate" ukdate="dd-MM-yyyy" placeholder="dd-MM-yyyy" /></td>
																			<td>
																				<select class="form-control" name="HKHead_UserIDSelect" id="HKHead_UserIDSelect" ng-model="EditingHotelVisit.VisitedUserID" required>
																					  <option ng-selected="option3.ID==HotelSettings.VisitedUserID"  ng-repeat="option3 in HotelOtherUsers" value="{{option3.ID}}">{{option3.Firstname}}</option>
																					</select>
																			</td>
																			<td><input class="form-control" width="10px" ng-model="EditingHotelVisit.Remark" type="text"></td>
																			<td >
																			<button class="form-control" type="submit" ng-show="HotelVisitFormType=='ADD'" ng-click="DoSaveHotelVisitChanges(EditingHotelVisit)" data-ng-disabled="HotelVisitSetForm.$invalid">Add</button>
																			<button class="form-control" type="submit" ng-show="HotelVisitFormType=='EDIT'" ng-click="DoSaveHotelVisitChanges(EditingHotelVisit)" data-ng-disabled="HotelVisitSetForm.$invalid">Save</button>
																			</td>
																		</tr>
																		

																	</tbody>
																</table>
																</form>
																<div ng-show="HotelVisitFormType=='LIST'">
																	<pagination  total-items="$parent.$parent.HotelVisittotalItems" ng-model="$parent.$parent.HotelVisitPagingcurrentPage"  
																	max-size="5" boundary-links="true"  
																	items-per-page="$parent.$parent.HotelVisitPagingnumPerPage" class="pagination-sm">  
																	</pagination> 
																</div>

															</div>
												</div>
												<div ng-show="activeHotelTab==3">
														
														
														<br/>
																<div class="table-responsive" >
																<div ng-show="HotelContactsFormType=='LIST'">
																<strong>
																<!-- Hotel Visit Info  -->
																<a ng-show="HotelContactsFormType=='LIST' && HotelSettings_Contacts_Add" ng-click="AddNewHotelContacts()">Add</a> | 
																<a ng-show="HotelContactsFormType=='LIST' && HotelSettings_Contacts_Export" ng-click="exportDataToCsv(HotelSettings.HotelContacts,'HotelContacts',$parent.$parent.ExportColumnsHotelSettingsContacts);">Export to CSV</a>
																</strong>
																
																</div>
																
																<table ng-show="HotelContactsFormType=='LIST' && HotelSettings.HotelContacts.length>0" id="tblHotelContactsList"" class="table table-bordered table-hover table-striped">
																	<thead>
																		<tr>
															
																			
																			 <th>Title</th> 
																			<th>Name</th>
															
																			<th width="15%"></th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr ng-repeat='vItem in HotelSettings.HotelContacts | orderBy:HotelContactspredicate:HotelContactsPagingreverse | filter:HotelContactspaginate'>
																			
																			 <td>{{vItem.Title}}</td>
																		
																			<td><a ng-click="ViewHotelcontactMoreInfo(vItem)">{{vItem.Username}}</a></td>
																		
																			<td>
																			<a ng-show="HotelSettings_Contacts_Edit" title='Edit'  ng-click="EditHotelContacts(vItem);"><img src="images/edit-icon.png" width="15px" height="17px" /></a> | 
																			<a ng-show="HotelSettings_Contacts_Delete" title='Delete'  ng-click="DoDeleteHotelContacts(vItem);"><img src="images/delete-icon.png" width="15px" height="17px" /></a> 
																			</td>
																		</tr>
																		

																	</tbody>
																</table>
																
																<div ng-show="HotelContactsFormType=='ADD'"><strong>Add Hotel Contact Info</strong></div>
																<div ng-show="HotelContactsFormType=='EDIT'"><strong>Edit Hotel Contact Info</strong></div>
																<form name="HotelContactSetForm" class="form-horizontal" role="form">
																<table ng-show="HotelContactsFormType=='ADD' || HotelContactsFormType=='EDIT'" id="tblHotelContactsAdd"" class="table table-bordered table-hover table-striped">
																	<thead>
																		<tr>
																			
																			<!-- <th>Title</th> -->
																			<th>Name</th>
																			
																			<th><button class="form-control" ng-click="$parent.$parent.HotelContactsFormType='LIST'">Cancel</button></th>
																		</tr>
																	</thead>
																	<tbody>
																		<tr>
																			
																			<!-- <td><input placeholder="Enter Title" class="form-control" ng-model="EditingHotelContacts.Title" width="5px" type="text" required ></td> -->
																			<td>
																				<select class="form-control" name="HKHead_UserIDSelect" id="HKHead_UserIDSelect" ng-model="EditingHotelContacts.UserID" required>
																					  <option ng-selected="option3.ID==HotelSettings.HKHead_UserID"  ng-repeat="option3 in HotelOtherUsers" value="{{option3.ID}}">{{option3.Firstname}}</option>
																					</select>
																			</td>
																		
																			<td >
																			<button class="form-control" ng-show="HotelContactsFormType=='ADD'" ng-click="DoSaveHotelContactsChanges(EditingHotelContacts)" data-ng-disabled="HotelContactSetForm.$invalid">Add</button>
																			<button class="form-control" ng-show="HotelContactsFormType=='EDIT'" ng-click="DoSaveHotelContactsChanges(EditingHotelContacts)" data-ng-disabled="HotelContactSetForm.$invalid">Save</button>
																			</td>
																		</tr>
																		<tr>
																			<td colspan="3"><a ng-click="HotelContactsFormType='ADDNEWUSER'">Add a new user</a></td>
																		</tr>

																	</tbody>
																</table>
																</form>
																<div ng-show="HotelContactsFormType=='LIST' && HotelSettings.HotelContacts.length>0">
																	<pagination  total-items="$parent.$parent.HotelContactstotalItems" ng-model="$parent.$parent.HotelContactsPagingcurrentPage"  
																	max-size="5" boundary-links="true"  
																	items-per-page="$parent.$parent.HotelContactsPagingnumPerPage" class="pagination-sm">  
																	</pagination> 
																</div>

															</div>
															<div ng-show="HotelContactsFormType=='ADDNEWUSER'">
																<h4 class="header blue lighter bigger">
																	Add User
																</h4>
																
															<form name="HotelContactsNewUser" class="form-horizontal" role="form">
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="username">Username</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																			<input type="text" class="form-control" placeholder="username" name="username" ng-model="user.Username" focus/>
																			 
																		</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="email">Email</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																			<input type="text" class="form-control" placeholder="Email" name="email" ng-model="user.Email" focus/>
																			<span ng-show="HotelContactsNewUser.email.$error.email" class="help-inline">Email is not valid</span> 
																		</span>
																	</div>
																</div>
															   <div class="form-group" >
																	<label class="col-sm-5 control-label no-padding-right" for="password">Password</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="password" class="form-control" name = "password" placeholder="Password" ng-model="user.Password" required/>
																	<small class="errorMessage" data-ng-show="HotelContactsNewUser.password.$dirty && HotelContactsNewUser.password.$invalid"> Enter Password.</small>
																</span>
																	</div>
																</div>
																<div class="form-group" >
																	<label class="col-sm-5 control-label no-padding-right" for="password2">Confirm Password</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="password" class="form-control" name="password2" placeholder="Password Again" ng-model="user.ConfirmPassword" password-match="user.Password" required/>                                
																	<small class="errorMessage" data-ng-show="HotelContactsNewUser.password2.$dirty && HotelContactsNewUser.password2.$error.required"> Enter password again.</small>

																   <small class="errorMessage" data-ng-show="HotelContactsNewUser.password2.$dirty && HotelContactsNewUser.password2.$error.passwordNoMatch && !HotelContactsNewUser.password2.$error.required"> Password do not match.</small>

																</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="name">First Name</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="text" class="form-control" placeholder="Name" ng-model="user.Firstname" />
																</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="name">Last Name</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="text" class="form-control" placeholder="Name" ng-model="user.Lastname" />
																</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="phone">Mobile</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="text" class="form-control" placeholder="Phone" name="phone" ng-model="user.Mobile"/>
																</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="phone">Title</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="text" class="form-control" placeholder="Title" name="Title" ng-model="user.Title"/>
																</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="phone">Notes</label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<!-- <input type="text" class="form-control" placeholder="Title" name="Title" ng-model="user.Notes"/> -->
																	<textarea rows="10" cols="20" class="form-control" placeholder="Notes" name="Notes" ng-model="user.Notes"></textarea>
																</span>
																	</div>
																</div>
																<div class="form-group">
																	<label class="col-sm-5 control-label no-padding-right" for="phone"></label>
																	<div class="col-sm-7">
																		<span class="block input-icon input-icon-right">
																	<input type="checkbox" ng-checked="expression" ng-model="user.Active"/>Active
																	
																</span>
																	</div>
																</div>
																
																<div class="form-group">
																	<span class="lbl col-sm-5"> </span>
																	<span class="col-sm-7">
																		<button  class="width-35 pull-right btn btn-sm btn-primary" ng-click="doCancelHotelContactsAddUser(); HotelContactsFormType='LIST'" >
																			Cancel
																		</button>
																	<span>
																	<span class="col-sm-7">
																		<button type="submit" class="width-35 pull-right btn btn-sm btn-primary" ng-click="doUpdateHotelUserContact(user)" data-ng-disabled="HotelContactsNewUser.$invalid">
																			Save Changes
																		</button>
																	</span>
																</div>
															</form>
															</div>
														
												</div>
												<div ng-show="activeHotelTab==4">
												<br/>
														<div class="table-responsive" >
																<table width="100%" class="table table-bordered table-hover table-striped">
																<tr>
																	<td>Title</td>
																	<td>{{ViewingUser.Title}}</td>
																</tr>
																<tr>
																	<td>First Name</td>
																	<td>{{ViewingUser.Firstname}}</td>
																</tr>
																<tr>
																	<td>Last Name</td>
																	<td>{{ViewingUser.Lastname}}</td>
																</tr>
																<tr>
																	<td>Email</td>
																	<td>{{ViewingUser.Email}}</td>
																</tr>
																<tr>
																	<td>Mobile</td>
																	<td>{{ViewingUser.Mobile}}</td>
																</tr>
																<tr>
																	<td>Notes</td>
																	<td>{{ViewingUser.Notes}}</td>
																</tr>
																</table>
																</div>
												</div>
										</div>
											                        
                    
													
													
										</div>
											
												
										</div>
										
									
									</div>
								
							</div>
       </div>
       
        